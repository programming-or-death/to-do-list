(()=>{"use strict";const t=document.querySelector("#task-creation__form"),e=document.querySelector("#task-creation__input"),n=document.querySelector(".tasks-list");let o=[];function s(){localStorage.setItem("tasks",JSON.stringify(o))}function a(t){const e=t.done?"task-title done":"task-title",o=`<li id="${t.id}" class="tasks-list__item">\n\t\t\t\t\t\t\t<span class="${e} ">${t.text}</span> \n\t\t\t\t\t\t\t<button type="button" data-action="done" class="tasks-list__complete-button"></button> \n\t\t\t\t\t\t\t<button type="button" data-action="delete" class="tasks-list__delete-button">X</button>\n\t\t\t\t\t\t</li>`;n.insertAdjacentHTML("beforeend",o)}localStorage.getItem("tasks")&&(o=JSON.parse(localStorage.getItem("tasks"))),o.forEach(function(t){a(t)}),t.addEventListener("submit",function(t){t.preventDefault();const n=e.value,i={id:Date.now(),text:n,done:!1};o.push(i),s(),a(i),e.value="",e.focus(),s()}),n.addEventListener("click",function(t){if("delete"===t.target.dataset.action){const e=t.target.closest("li"),n=Number(e.id),a=o.findIndex(function(t){if(t.id===n)return!0});o.splice(a,1),s(),e.remove()}}),n.addEventListener("click",function(t){if("done"===t.target.dataset.action){const e=t.target.closest("li"),n=Number(e.id),a=o.find(function(t){if(t.id===n)return!0});a.done=!a.done,s(),e.querySelector(".task-title").classList.toggle("done")}}),function(){let t=new Image;t.onload=t.onerror=function(){!function(t){let e=!0===t?"webp":"no-webp";document.documentElement.classList.add(e)}(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}()})();